<div style="max-width: 800px;">

    <form name="cuponForm" novalidate>

        <toaster-container></toaster-container>
        <div class="row">
            <div class="col-sm-4 col-md-4 col-lg-4">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.titular.$error.required}">
                    <label for="titular">Titular</label>
                    <select id="titular" class="form-control" ng-model="currentCupon.titularId" ng-options="titular.Id as titular.FullName for titular in titulares track by titular.Id" ng-change="loadCards()"
                            class="form-control" name="titular" required>
                        <option value=''>Seleccione Titular</option>
                    </select>
                    <div class="help-block" ng-messages="cuponForm.titular.$error" ng-if="cuponForm.$submitted && cuponForm.titular.$error.required">
                        <span ng-message="required">titular es requerido</span>
                    </div>

                </div>
            </div>

            <div class="col-sm-5 col-md-5 col-lg-5">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.tarjeta.$error.required}">
                    <label for="tarjeta">Tarjeta</label>
                    <select id="tarjeta" class="form-control" name="tarjeta" required="" ng-model="currentCupon.tarjetaId" ng-options="tarjeta.Id as tarjeta.FullDescription for tarjeta in tarjetas track by tarjeta.Id" ng-disabled="!tarjetas" ng-change="" class="form-control">
                        <option value=''>Seleccione Tarjeta</option>
                    </select>
                    <div class="help-block" ng-messages="cuponForm.tarjeta.$error" ng-if="cuponForm.$submitted && cuponForm.tarjeta.$error.required">
                        <span ng-message="required">tarjeta es requerida</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-4 col-md-4 col-lg-4">
                <div class="form-group" ng-class="{'has-error': cuponForm.selectedDate.$invalid || cuponForm.selectedDate.$error.required}">
                    <label for="selectedDate">Fecha</label>
                    <input class="form-control" ng-model="currentCupon.selectedDate" name="selectedDate" required="" data-min-date="02/10/90" data-autoclose="1" bs-datepicker type="text">
                    <div class="help-block" ng-messages="cuponForm.selectedDate.$error" ng-if="cuponForm.$submitted">
                        <span ng-message="required">fecha requerida</span>
                        <span ng-message="ng-invalid">fecha invalida</span>
                    </div>
                </div>
            </div>
            <div class="col-sm-5 col-md-5 col-lg-5">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.comercio.$error.required}">
                    <label for="comercio">Comercio</label>
                    <select id="comercio" name="comercio" class="form-control" required="" ng-model="currentCupon.comercioId" ng-options="comercio.Id as comercio.RazonSocial for comercio in comercios track by comercio.Id" ng-disabled="!comercios" ng-change="" class="form-control">
                        <option value=''>Seleccione Comercio</option>
                    </select>
                    <div class="help-block" ng-messages="cuponForm.comercio.$error" ng-if="cuponForm.$submitted && cuponForm.comercio.$error.required">
                        <span ng-message="required">comercio es requerido</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-3">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.numeroCupon.$error.required}">
                    <label for="titular">Nro. Cupón</label>
                    <input ng-only-number data-max-decimal-points=1 class="form-control" ng-model="currentCupon.numeroCupon" name="numeroCupon" type="number" required="">
                    <div class="help-block" ng-messages="cuponForm.numeroCupon.$error" ng-if="cuponForm.$submitted && cuponForm.numeroCupon.$error.required">
                        <span ng-message="required">numero de cupón es requerido</span>
                    </div>
                </div>

            </div>
            <div class="col-lg-3 col-md-3 col-sm-3">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.importe.$error.required}">
                    <label for="titular">Importe</label>
                    <input ng-only-number data-max-decimal-points=2 class="form-control" ng-model="currentCupon.importe" name="importe" type="number" step="0.01" required="">
                    <div class="help-block" ng-messages="cuponForm.importe.$error" ng-if="cuponForm.$submitted && cuponForm.importe.$error.required">
                        <span ng-message="required">importe es requerido</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-3">
                <div class="form-group" ng-class="{ 'has-error': cuponForm.$submitted && cuponForm.cuotas.$error.required}">
                    <label for="titular">Cuotas</label>
                    <input ng-only-number data-max-decimal-points=1 class="form-control" ng-model="currentCupon.cuotas" name="cuotas" type="number" required="">
                    <div class="help-block" ng-messages="cuponForm.cuotas.$error" ng-if="cuponForm.$submitted && cuponForm.cuotas.$error.required">
                        <span ng-message="required">cuotas es requerido</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <input type="submit" id="btnSave" name="btnSave" ng-click="saveCupon()" value="Grabar" class="btn btn-primary" />
            </div>
        </div>
    </form>
</div>
